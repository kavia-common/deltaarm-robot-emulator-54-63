{"is_source_file": true, "format": "Python", "description": "This file defines the EmulatorState class, which manages the internal state of a DeltaARM robot emulator, including digital I/O, Modbus registers, robot position, joint angles, motion settings, and scripting state.", "external_files": [], "external_methods": [], "published": ["get_di", "set_di", "get_do", "set_do", "read_modbus", "write_modbus", "set_global_point", "get_global_point", "move_to_position", "add_log", "clear_logs", "get_logs"], "classes": [{"name": "EmulatorState", "description": "Singleton class managing the emulator's internal state, including I/O, registers, positions, motion settings, and logs."}], "methods": [{"name": "bool get_di(self, pin: int)", "description": "Retrieve the state of a digital input pin.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "set_di(self, pin: int, state: bool)", "description": "Set the state of a digital input pin for simulation.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "bool get_do(self, pin: int)", "description": "Retrieve the state of a digital output pin.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "set_do(self, pin: int, state: bool)", "description": "Set the state of a digital output pin.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "int read_modbus(self, address: int, size: str = 'W')", "description": "Read a Modbus register value, supporting 16-bit or 32-bit access.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "write_modbus(self, address: int, value: int, size: str = 'W')", "description": "Write a value to a Modbus register, supporting 16-bit or 32-bit writing.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "set_global_point(self, point_num: int, data: Dict[str, Any])", "description": "Store data in a global point identified by number.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "Optional[Dict[str,Any]] get_global_point(self, point: Union[int, str])", "description": "Retrieve a global point by number or name.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "move_to_position(self, x: float, y: float, z: float, rx: float = 0.0, ry: float = 0.0, rz: float = 0.0)", "description": "Simulate robot movement to a specified position and orientation.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "add_log(self, message: str)", "description": "Add a message to the script output log.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "clear_logs(self)", "description": "Clear all script output logs.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "List[str] get_logs(self)", "description": "Retrieve the current script output logs.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "__init__(self)", "scope": "EmulatorState", "scopeKind": "class", "description": "unavailable"}, {"name": "__new__(cls)", "scope": "EmulatorState", "scopeKind": "class", "description": "unavailable"}], "calls": ["super().__new__", "self._lock", "self._initialized", "self.di_state.get", "self.di_state.__setitem__", "self.do_state.get", "self.do_state.__setitem__", "self.modbus_registers.get", "self.modbus_registers.__setitem__", "self.global_points.get", "self.global_points.values"], "search-terms": ["EmulatorState", "digital input", "digital output", "modbus registers", "robot position", "motion settings", "global points", "singleton", "robot emulator", "state management"], "state": 2, "file_id": 7, "knowledge_revision": 27, "git_revision": "bd033e269312a1593b33875149da9b16d97faeec", "revision_history": [{"18": ""}, {"27": "bd033e269312a1593b33875149da9b16d97faeec"}], "ctags": [{"_type": "tag", "name": "EmulatorState", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^class EmulatorState:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "__new__", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def __new__(cls):$/", "language": "Python", "kind": "member", "signature": "(cls)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "_instance", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    _instance = None$/", "language": "Python", "kind": "variable", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "_lock", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    _lock = threading.Lock()$/", "language": "Python", "kind": "variable", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "add_log", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def add_log(self, message: str):$/", "language": "Python", "kind": "member", "signature": "(self, message: str)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "clear_logs", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def clear_logs(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "emulator_state", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^emulator_state = EmulatorState()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_di", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def get_di(self, pin: int) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self, pin: int)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "get_do", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def get_do(self, pin: int) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self, pin: int)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "get_global_point", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def get_global_point(self, point: Union[int, str]) -> Optional[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Optional[Dict[str,Any]]", "kind": "member", "signature": "(self, point: Union[int, str])", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "get_logs", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def get_logs(self) -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "member", "signature": "(self)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "move_to_position", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def move_to_position(self, x: float, y: float, z: float, $/", "language": "Python", "kind": "member", "signature": "(self, x: float, y: float, z: float, rx: float = 0.0, ry: float = 0.0, rz: float = 0.0)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "read_modbus", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def read_modbus(self, address: int, size: str = 'W') -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "member", "signature": "(self, address: int, size: str = 'W')", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "set_di", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def set_di(self, pin: int, state: bool):$/", "language": "Python", "kind": "member", "signature": "(self, pin: int, state: bool)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "set_do", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def set_do(self, pin: int, state: bool):$/", "language": "Python", "kind": "member", "signature": "(self, pin: int, state: bool)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "set_global_point", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def set_global_point(self, point_num: int, data: Dict[str, Any]):$/", "language": "Python", "kind": "member", "signature": "(self, point_num: int, data: Dict[str, Any])", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "write_modbus", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def write_modbus(self, address: int, value: int, size: str = 'W'):$/", "language": "Python", "kind": "member", "signature": "(self, address: int, value: int, size: str = 'W')", "scope": "EmulatorState", "scopeKind": "class"}], "hash": "4bdb3e28b3e5bc4ad7400b572ccf6791", "format-version": 4, "code-base-name": "ros2_emulator_backend", "filename": "ros2_emulator_backend/app/emulator_state.py", "fields": [{"name": "_instance = None", "scope": "EmulatorState", "scopeKind": "class", "description": "unavailable"}, {"name": "_lock = threading.Lock()", "scope": "EmulatorState", "scopeKind": "class", "description": "unavailable"}, {"name": "emulator_state = EmulatorState()", "scope": "", "scopeKind": "", "description": "unavailable"}]}