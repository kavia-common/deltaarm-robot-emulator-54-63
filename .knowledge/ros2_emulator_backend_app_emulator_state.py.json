{"is_source_file": true, "format": "Python", "description": "This file defines a singleton class 'EmulatorState' that manages the internal state of a simulated DeltaARM robot, including digital I/O, Modbus registers, robot positions, joint angles, motion settings, and script logs.", "external_files": ["threading", "time", "typing"], "external_methods": [], "published": ["emulator_state"], "classes": [{"name": "EmulatorState", "description": "Singleton class that manages the entire emulator's internal state, including I/O states, registers, position, motion settings, and logs."}], "methods": [{"name": "__new__(cls)", "description": "Implements singleton pattern to ensure only one instance of EmulatorState exists.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "__init__(self)", "description": "Initializes the emulator state variables if not already initialized.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "bool get_di(self, pin: int)", "description": "Returns the current state of a specified digital input pin.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "set_di(self, pin: int, state: bool)", "description": "Sets the state of a digital input pin (used for simulation).", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "bool get_do(self, pin: int)", "description": "Returns the current state of a specified digital output pin.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "set_do(self, pin: int, state: bool)", "description": "Sets the state of a digital output pin.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "int read_modbus(self, address: int, size: str = 'W')", "description": "Reads the value of a Modbus register, supporting 16-bit and 32-bit reads.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "write_modbus(self, address: int, value: int, size: str = 'W')", "description": "Writes a value to a Modbus register, supporting 16-bit and 32-bit writes.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "set_global_point(self, point_num: int, data: Dict[str, Any])", "description": "Stores a global point with its data in the emulator's internal storage.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "Optional[Dict[str,Any]] get_global_point(self, point: Union[int, str])", "description": "Retrieves a global point either by its number or by name.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "move_to_position(self, x: float, y: float, z: float, rx: float = 0.0, ry: float = 0.0, rz: float = 0.0)", "description": "Simulates moving the robot to specified Cartesian coordinates and rotation angles.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "add_log(self, message: str)", "description": "Adds a message to the script output logs.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "clear_logs(self)", "description": "Clears all script output logs.", "scope": "EmulatorState", "scopeKind": "class"}, {"name": "List[str] get_logs(self)", "description": "Returns all script output logs.", "scope": "EmulatorState", "scopeKind": "class"}], "calls": ["super().__new__", "self.di_state.get", "self.di_state.update", "self.do_state.get", "self.do_state.update"], "search-terms": ["EmulatorState singleton", "digital I/O state management", "modbus register handling", "robot position simulation", "global points storage", "motion settings configuration"], "state": 2, "file_id": 7, "knowledge_revision": 18, "git_revision": "", "ctags": [{"_type": "tag", "name": "EmulatorState", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^class EmulatorState:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "__new__", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def __new__(cls):$/", "language": "Python", "kind": "member", "signature": "(cls)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "_instance", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    _instance = None$/", "language": "Python", "kind": "variable", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "_lock", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    _lock = threading.Lock()$/", "language": "Python", "kind": "variable", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "add_log", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def add_log(self, message: str):$/", "language": "Python", "kind": "member", "signature": "(self, message: str)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "clear_logs", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def clear_logs(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "emulator_state", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^emulator_state = EmulatorState()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_di", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def get_di(self, pin: int) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self, pin: int)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "get_do", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def get_do(self, pin: int) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self, pin: int)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "get_global_point", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def get_global_point(self, point: Union[int, str]) -> Optional[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Optional[Dict[str,Any]]", "kind": "member", "signature": "(self, point: Union[int, str])", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "get_logs", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def get_logs(self) -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "member", "signature": "(self)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "move_to_position", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def move_to_position(self, x: float, y: float, z: float, $/", "language": "Python", "kind": "member", "signature": "(self, x: float, y: float, z: float, rx: float = 0.0, ry: float = 0.0, rz: float = 0.0)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "read_modbus", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def read_modbus(self, address: int, size: str = 'W') -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "member", "signature": "(self, address: int, size: str = 'W')", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "set_di", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def set_di(self, pin: int, state: bool):$/", "language": "Python", "kind": "member", "signature": "(self, pin: int, state: bool)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "set_do", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def set_do(self, pin: int, state: bool):$/", "language": "Python", "kind": "member", "signature": "(self, pin: int, state: bool)", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "set_global_point", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def set_global_point(self, point_num: int, data: Dict[str, Any]):$/", "language": "Python", "kind": "member", "signature": "(self, point_num: int, data: Dict[str, Any])", "scope": "EmulatorState", "scopeKind": "class"}, {"_type": "tag", "name": "write_modbus", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/emulator_state.py", "pattern": "/^    def write_modbus(self, address: int, value: int, size: str = 'W'):$/", "language": "Python", "kind": "member", "signature": "(self, address: int, value: int, size: str = 'W')", "scope": "EmulatorState", "scopeKind": "class"}], "hash": "16d323420967543f75b81ecd7a050356", "format-version": 4, "code-base-name": "ros2_emulator_backend", "filename": "ros2_emulator_backend/app/emulator_state.py", "fields": [{"name": "_instance = None", "scope": "EmulatorState", "scopeKind": "class", "description": "unavailable"}, {"name": "_lock = threading.Lock()", "scope": "EmulatorState", "scopeKind": "class", "description": "unavailable"}, {"name": "emulator_state = EmulatorState()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"18": ""}]}