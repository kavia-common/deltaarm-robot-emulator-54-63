{"is_source_file": true, "format": "Python", "description": "This file implements a Lua-like script interpreter for the DeltaARM robot, providing functions for robot control, I/O operations, motion, timing, and communication with external devices, bindings to a Lua runtime via lupa, and interaction with a shared emulator state.", "external_files": ["emulator_state"], "external_methods": ["emulator_state.get_di", "emulator_state.set_do", "emulator_state.add_log", "emulator_state.ext_di_state", "emulator_state.ext_do_state", "emulator_state.move_to_position", "emulator_state.get_global_point", "emulator_state.set_global_point", "emulator_state.read_modbus", "emulator_state.write_modbus", "emulator_state.clear_logs", "emulator_state.get_logs", "emulator_state.script_running"], "published": ["lua_interpreter"], "classes": [{"name": "LuaInterpreter", "description": "A class encapsulating a Lua runtime environment with DeltaAPI functions bound into the scripting environment."}], "methods": [{"name": "dict execute_script(self, script_code: str)", "description": "Executes provided Lua script code and returns execution status, logs, and error information if any.", "scope": "LuaInterpreter", "scopeKind": "class"}, {"name": "AccJ(acceleration: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "AccL(acceleration: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "Accur(mode: str, cart: str = \"CART\")", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "DELAY(delay_time: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "Union[str,int] DI(pin_index: Union[int, str], length: Optional[int] = None)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "DO(pin_index: Union[int, str], status_or_length: Union[str, int], status_num_or_delay: Optional[Union[int, float]] = None, delay_time: Optional[float] = None)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "DecJ(deceleration: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "DecL(deceleration: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "str ExtDI(address_index: int, pin_index: int)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "ExtDO(address_index: int, pin_index: int, status: str, delay_time: Optional[float] = None)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "MovJ(joint: int, degree: float, **kwargs)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "MovL(point: Union[int, str], **kwargs)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "MovP(point: Union[int, str], **kwargs)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "int ReadModbus(address: int, size: str)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "Any ReadPoint(point: Union[int, str], item: str)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "SetGlobalPoint(point_num: int, name: str, x: float, y: float, z: float, rx: float = 0.0, ry: float = 0.0, rz: float = 0.0, elbow: int = 0, shoulder: int = 0, flip: int = 0, uf: int = 0, tf: int = 0, jrc: Optional[List] = None)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "SpdJ(speed: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "SpdL(speed: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "WAIT(*args)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "WriteModbus(address: int, size: str, value: int)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}, {"name": "__init__(self)", "scope": "LuaInterpreter", "scopeKind": "class", "description": "unavailable"}, {"name": "_setup_api(self)", "scope": "LuaInterpreter", "scopeKind": "class", "description": "unavailable"}, {"name": "print(*args)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member", "description": "unavailable"}], "calls": ["LuaRuntime", "lua.execute", "emulator_state.get_di", "emulator_state.set_do", "emulator_state.add_log", "emulator_state.get_global_point", "emulator_state.move_to_position", "emulator_state.set_global_point", "emulator_state.read_modbus", "emulator_state.write_modbus", "emulator_state.clear_logs", "emulator_state.get_logs"], "search-terms": ["lua_interpreter.py", "LuaRuntime", "DeltaAPI", "robot control", "I/O functions", "motion functions", "emulator state", "external digital input", "external digital output", "modbus", "Lua scripting"], "state": 2, "file_id": 8, "knowledge_revision": 28, "git_revision": "bd033e269312a1593b33875149da9b16d97faeec", "revision_history": [{"22": ""}, {"28": "bd033e269312a1593b33875149da9b16d97faeec"}], "ctags": [{"_type": "tag", "name": "AccJ", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def AccJ(acceleration: float):$/", "file": true, "language": "Python", "kind": "function", "signature": "(acceleration: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "AccL", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def AccL(acceleration: float):$/", "file": true, "language": "Python", "kind": "function", "signature": "(acceleration: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "Accur", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def Accur(mode: str, cart: str = \"CART\"):$/", "file": true, "language": "Python", "kind": "function", "signature": "(mode: str, cart: str = \"CART\")", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "DELAY", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def DELAY(delay_time: float):$/", "file": true, "language": "Python", "kind": "function", "signature": "(delay_time: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "DI", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def DI(pin_index: Union[int, str], length: Optional[int] = None) -> Union[str, int]:$/", "file": true, "language": "Python", "typeref": "typename:Union[str,int]", "kind": "function", "signature": "(pin_index: Union[int, str], length: Optional[int] = None)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "DO", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def DO(pin_index: Union[int, str], status_or_length: Union[str, int], $/", "file": true, "language": "Python", "kind": "function", "signature": "(pin_index: Union[int, str], status_or_length: Union[str, int], status_num_or_delay: Optional[Union[int, float]] = None, delay_time: Optional[float] = None)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "DecJ", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def DecJ(deceleration: float):$/", "file": true, "language": "Python", "kind": "function", "signature": "(deceleration: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "DecL", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def DecL(deceleration: float):$/", "file": true, "language": "Python", "kind": "function", "signature": "(deceleration: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "ExtDI", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def ExtDI(address_index: int, pin_index: int) -> str:$/", "file": true, "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(address_index: int, pin_index: int)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "ExtDO", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def ExtDO(address_index: int, pin_index: int, status: str, delay_time: Optional[float] =/", "file": true, "language": "Python", "kind": "function", "signature": "(address_index: int, pin_index: int, status: str, delay_time: Optional[float] = None)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "LuaInterpreter", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^class LuaInterpreter:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MovJ", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def MovJ(joint: int, degree: float, **kwargs):$/", "file": true, "language": "Python", "kind": "function", "signature": "(joint: int, degree: float, **kwargs)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "MovL", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def MovL(point: Union[int, str], **kwargs):$/", "file": true, "language": "Python", "kind": "function", "signature": "(point: Union[int, str], **kwargs)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "MovP", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def MovP(point: Union[int, str], **kwargs):$/", "file": true, "language": "Python", "kind": "function", "signature": "(point: Union[int, str], **kwargs)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "ReadModbus", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def ReadModbus(address: int, size: str) -> int:$/", "file": true, "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(address: int, size: str)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "ReadPoint", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def ReadPoint(point: Union[int, str], item: str) -> Any:$/", "file": true, "language": "Python", "typeref": "typename:Any", "kind": "function", "signature": "(point: Union[int, str], item: str)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "SetGlobalPoint", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def SetGlobalPoint(point_num: int, name: str, x: float, y: float, z: float,$/", "file": true, "language": "Python", "kind": "function", "signature": "(point_num: int, name: str, x: float, y: float, z: float, rx: float = 0.0, ry: float = 0.0, rz: float = 0.0, elbow: int = 0, shoulder: int = 0, flip: int = 0, uf: int = 0, tf: int = 0, jrc: Optional[List] = None)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "SpdJ", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def SpdJ(speed: float):$/", "file": true, "language": "Python", "kind": "function", "signature": "(speed: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "SpdL", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def SpdL(speed: float):$/", "file": true, "language": "Python", "kind": "function", "signature": "(speed: float)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "WAIT", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def WAIT(*args):$/", "file": true, "language": "Python", "kind": "function", "signature": "(*args)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "WriteModbus", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def WriteModbus(address: int, size: str, value: int):$/", "file": true, "language": "Python", "kind": "function", "signature": "(address: int, size: str, value: int)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "LuaInterpreter", "scopeKind": "class"}, {"_type": "tag", "name": "_setup_api", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^    def _setup_api(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "LuaInterpreter", "scopeKind": "class"}, {"_type": "tag", "name": "execute_script", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^    def execute_script(self, script_code: str) -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "member", "signature": "(self, script_code: str)", "scope": "LuaInterpreter", "scopeKind": "class"}, {"_type": "tag", "name": "lua_interpreter", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^lua_interpreter = LuaInterpreter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "print", "path": "/home/kavia/workspace/code-generation/deltaarm-robot-emulator-54-63/ros2_emulator_backend/app/lua_interpreter.py", "pattern": "/^        def print(*args):$/", "file": true, "language": "Python", "kind": "function", "signature": "(*args)", "scope": "LuaInterpreter._setup_api", "scopeKind": "member"}], "hash": "aaaf77adf75e95f53bb028aca93dfc05", "format-version": 4, "code-base-name": "ros2_emulator_backend", "filename": "ros2_emulator_backend/app/lua_interpreter.py", "fields": [{"name": "lua_interpreter = LuaInterpreter()", "scope": "", "scopeKind": "", "description": "unavailable"}]}